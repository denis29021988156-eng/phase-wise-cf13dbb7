-- Create energy_reference table with coefficient data
CREATE TABLE public.energy_reference (
  id uuid NOT NULL DEFAULT gen_random_uuid() PRIMARY KEY,
  category text NOT NULL,
  event_name text NOT NULL UNIQUE,
  base numeric NOT NULL,
  menstrual numeric NOT NULL,
  follicular numeric NOT NULL,
  ovulation numeric NOT NULL,
  luteal numeric NOT NULL,
  morning numeric NOT NULL,
  afternoon numeric NOT NULL,
  evening numeric NOT NULL,
  stress_coefficient numeric NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now()
);

-- Enable RLS
ALTER TABLE public.energy_reference ENABLE ROW LEVEL SECURITY;

-- Create policy for public read access
CREATE POLICY "Energy reference is viewable by everyone" 
ON public.energy_reference 
FOR SELECT 
USING (true);

-- Insert all coefficient data
INSERT INTO public.energy_reference (category, event_name, base, menstrual, follicular, ovulation, luteal, morning, afternoon, evening, stress_coefficient) VALUES
('РАБОТА', 'Фокус-работа (2-4ч)', -0.30, -0.50, -0.10, 0.00, -0.40, -0.40, -0.20, -0.60, 0.20),
('РАБОТА', 'Совещание (30-60м)', -0.40, -0.70, -0.20, -0.10, -0.50, -0.60, -0.30, -0.50, 0.60),
('РАБОТА', 'Презентация', -0.60, -1.00, -0.30, -0.10, -0.70, -0.70, -0.50, -0.80, 0.80),
('РАБОТА', 'Письма/Email', -0.15, -0.30, -0.05, 0.00, -0.20, -0.20, -0.10, -0.30, 0.15),
('РАБОТА', 'Звонок/видеокол', -0.25, -0.50, -0.10, -0.05, -0.35, -0.40, -0.20, -0.40, 0.40),
('РАБОТА', 'Конфликт с коллегой', -0.80, -1.00, -0.60, -0.40, -0.90, -0.70, -0.70, -0.90, 1.00),
('РАБОТА', 'Дедлайн/спешка', -0.70, -1.00, -0.50, -0.30, -0.80, -0.80, -0.70, -0.80, 0.90),
('СЕМЬЯ', 'Ужин с семьёй', -0.15, -0.30, 0.10, 0.20, -0.20, 0.00, 0.00, -0.30, 0.10),
('СЕМЬЯ', 'Помощь ребёнку', -0.30, -0.50, -0.10, -0.05, -0.40, -0.20, -0.40, -0.30, 0.25),
('СЕМЬЯ', 'Ссора с партнёром', -0.70, -1.00, -0.50, -0.30, -0.80, -0.60, -0.70, -0.80, 0.95),
('СЕМЬЯ', 'Разговор с родителями', -0.40, -0.60, -0.20, -0.10, -0.50, -0.40, -0.30, -0.50, 0.50),
('СЕМЬЯ', 'День рождения/праздник', -0.20, -0.40, 0.20, 0.30, -0.25, -0.10, 0.00, -0.35, 0.15),
('БЫТ', 'Уборка (30-60м)', -0.25, -0.50, -0.05, 0.10, -0.30, -0.20, -0.20, -0.40, 0.20),
('БЫТ', 'Магазин (30-40м)', -0.20, -0.40, 0.00, 0.10, -0.25, -0.10, -0.20, -0.30, 0.15),
('БЫТ', 'Стирка/готовка', -0.15, -0.30, -0.05, 0.00, -0.20, -0.10, -0.15, -0.20, 0.10),
('БЫТ', 'Готовка (1-2ч)', -0.20, -0.40, -0.05, 0.05, -0.25, -0.15, -0.20, -0.30, 0.15),
('БЫТ', 'Кухня/посуда', -0.10, -0.20, 0.00, 0.05, -0.15, -0.05, -0.10, -0.15, 0.08),
('БЫТ', 'Стирка', -0.12, -0.25, 0.00, 0.05, -0.15, -0.10, -0.10, -0.15, 0.10),
('БЫТ', 'Финансы/бумаги', -0.35, -0.60, -0.15, -0.05, -0.45, -0.35, -0.30, -0.45, 0.70),
('БЫТ', 'Ремонт/сантехник', -0.40, -0.70, -0.20, -0.10, -0.50, -0.40, -0.35, -0.50, 0.75),
('БЫТ', 'Автомобиль/техника', -0.30, -0.55, -0.10, 0.00, -0.40, -0.25, -0.25, -0.40, 0.60),
('СОЦИУМ', 'Вечеринка/мероприятие', -0.35, -0.60, 0.10, 0.30, -0.40, -0.20, -0.20, -0.50, 0.30),
('СОЦИУМ', 'Встреча с друзьями', -0.20, -0.40, 0.10, 0.20, -0.25, -0.10, -0.15, -0.30, 0.15),
('СОЦИУМ', 'Сетевое мероприятие', -0.50, -0.80, -0.20, 0.10, -0.60, -0.50, -0.40, -0.65, 0.75),
('СОЦИУМ', 'Встреча 1-на-1', -0.25, -0.45, -0.05, 0.10, -0.35, -0.20, -0.15, -0.40, 0.35),
('СОЦИУМ', 'Консультация/совет', -0.30, -0.50, -0.10, 0.05, -0.40, -0.30, -0.25, -0.45, 0.50),
('СОЦИУМ', 'Комплимент/похвала', 0.15, 0.10, 0.20, 0.30, 0.10, 0.15, 0.20, 0.10, -0.30),
('СПОРТ', 'Тренировка (60м)', -0.20, -0.60, 0.20, 0.40, -0.30, -0.10, 0.10, -0.30, 0.15),
('СПОРТ', 'Йога (мягкая, 30м)', 0.20, 0.40, 0.10, 0.00, 0.30, 0.30, 0.20, 0.10, -0.40),
('СПОРТ', 'Йога (интенсивная)', -0.15, -0.40, 0.15, 0.35, -0.25, -0.05, 0.10, -0.25, 0.10),
('СПОРТ', 'Кардио/HIIT', -0.40, -0.80, 0.30, 0.50, -0.50, -0.30, 0.10, -0.50, 0.25),
('СПОРТ', 'Силовая тренировка', -0.25, -0.60, 0.15, 0.35, -0.35, -0.15, 0.05, -0.35, 0.20),
('СПОРТ', 'Прогулка быстрая', 0.20, 0.00, 0.40, 0.50, 0.15, 0.30, 0.25, 0.10, -0.25),
('СПОРТ', 'Пилатес', 0.15, 0.20, 0.10, 0.10, 0.20, 0.20, 0.15, 0.10, -0.35),
('СПОРТ', 'Растяжка', 0.25, 0.35, 0.20, 0.15, 0.30, 0.30, 0.25, 0.20, -0.50),
('СПОРТ', 'Танцы/зумба', -0.10, -0.40, 0.25, 0.45, -0.20, 0.00, 0.15, -0.20, 0.05),
('ВОССТАНОВЛЕНИЕ', 'Сон (7-8ч)', 0.80, 1.00, 0.60, 0.40, 0.90, 0.00, 0.30, 1.00, -1.00),
('ВОССТАНОВЛЕНИЕ', 'Прогулка (20-30м)', 0.40, 0.20, 0.60, 0.70, 0.30, 0.50, 0.40, 0.20, -0.35),
('ВОССТАНОВЛЕНИЕ', 'Медитация (20м)', 0.50, 0.70, 0.40, 0.30, 0.60, 0.60, 0.50, 0.40, -0.70),
('ВОССТАНОВЛЕНИЕ', 'Массаж/СПА', 0.60, 0.90, 0.30, 0.20, 0.70, 0.40, 0.70, 0.60, -0.80),
('ВОССТАНОВЛЕНИЕ', 'Ванна горячая', 0.55, 0.85, 0.35, 0.25, 0.65, 0.20, 0.40, 0.75, -0.75),
('ВОССТАНОВЛЕНИЕ', 'Читать/хобби', 0.35, 0.50, 0.25, 0.15, 0.45, 0.20, 0.35, 0.45, -0.50),
('ВОССТАНОВЛЕНИЕ', 'Фильм/сериал', 0.30, 0.45, 0.20, 0.10, 0.40, 0.10, 0.25, 0.40, -0.45),
('ВОССТАНОВЛЕНИЕ', 'Творчество/рисование', 0.40, 0.55, 0.30, 0.20, 0.50, 0.35, 0.40, 0.45, -0.55),
('ВОССТАНОВЛЕНИЕ', 'Музыка/пение', 0.45, 0.65, 0.35, 0.25, 0.55, 0.40, 0.45, 0.50, -0.60),
('ВОССТАНОВЛЕНИЕ', 'Природа/лес', 0.50, 0.70, 0.40, 0.30, 0.60, 0.55, 0.50, 0.45, -0.65),
('ВОССТАНОВЛЕНИЕ', 'Объятия/связь', 0.35, 0.50, 0.25, 0.15, 0.45, 0.30, 0.35, 0.40, -0.55),
('ВОССТАНОВЛЕНИЕ', 'Секс', 0.25, 0.10, 0.40, 0.50, 0.20, 0.15, 0.30, 0.25, -0.70),
('ВОССТАНОВЛЕНИЕ', 'Интимность', 0.30, 0.20, 0.35, 0.45, 0.25, 0.25, 0.30, 0.35, -0.65),
('ЗДОРОВЬЕ', 'Приём врача', -0.45, -0.70, -0.25, -0.15, -0.55, -0.40, -0.50, -0.50, 0.85),
('ЗДОРОВЬЕ', 'Анализы/тесты', -0.40, -0.65, -0.20, -0.10, -0.50, -0.35, -0.45, -0.45, 0.80),
('ЗДОРОВЬЕ', 'Стоматолог', -0.50, -0.80, -0.30, -0.20, -0.60, -0.50, -0.55, -0.55, 0.95),
('ЗДОРОВЬЕ', 'Физиотерапия', -0.30, -0.50, -0.10, 0.00, -0.40, -0.25, -0.30, -0.35, 0.60),
('ЗДОРОВЬЕ', 'Принять лекарство', -0.10, -0.20, 0.00, 0.05, -0.15, -0.10, -0.10, -0.10, 0.30),
('ЗДОРОВЬЕ', 'Витамины', 0.10, 0.15, 0.10, 0.05, 0.15, 0.10, 0.10, 0.10, -0.20),
('ЗНАНИЯ', 'Учёба/курс', -0.35, -0.55, -0.15, -0.05, -0.45, -0.35, -0.30, -0.45, 0.50),
('ЗНАНИЯ', 'Вебинар', -0.30, -0.50, -0.10, 0.00, -0.40, -0.30, -0.25, -0.40, 0.45),
('ЗНАНИЯ', 'Чтение (деловое)', -0.20, -0.40, 0.00, 0.10, -0.30, -0.20, -0.15, -0.30, 0.30),
('ЗНАНИЯ', 'Подкаст/аудиокн', 0.15, 0.00, 0.25, 0.35, 0.10, 0.20, 0.20, 0.10, -0.25),
('ЭМОЦИИ', 'Конфликт/ссора', -0.85, -1.00, -0.70, -0.50, -0.95, -0.80, -0.85, -0.95, 1.00),
('ЭМОЦИИ', 'Критика/отказ', -0.70, -1.00, -0.50, -0.30, -0.80, -0.70, -0.70, -0.80, 0.95),
('ЭМОЦИИ', 'Успех/достижение', 0.60, 0.40, 0.70, 0.80, 0.50, 0.60, 0.65, 0.55, -0.80),
('ЭМОЦИИ', 'Вдохновение', 0.55, 0.35, 0.65, 0.75, 0.45, 0.55, 0.60, 0.50, -0.75),
('ЭМОЦИИ', 'Печаль/горе', -0.60, -0.90, -0.40, -0.20, -0.70, -0.60, -0.60, -0.70, 0.90),
('ЭМОЦИИ', 'Тревога/паника', -0.75, -1.00, -0.55, -0.35, -0.85, -0.75, -0.75, -0.85, 1.00),
('ЭМОЦИИ', 'Благодарность', 0.50, 0.35, 0.60, 0.70, 0.40, 0.50, 0.55, 0.45, -0.70),
('ПИТАНИЕ', 'Завтрак питательный', 0.20, 0.30, 0.15, 0.10, 0.25, 0.25, 0.00, 0.00, -0.30),
('ПИТАНИЕ', 'Обед полезный', 0.25, 0.35, 0.20, 0.15, 0.30, 0.00, 0.30, 0.00, -0.35),
('ПИТАНИЕ', 'Ужин лёгкий', 0.15, 0.25, 0.10, 0.05, 0.20, 0.00, 0.00, 0.20, -0.25),
('ПИТАНИЕ', 'Сладкое/конфеты', -0.05, -0.15, 0.10, 0.15, -0.10, -0.05, 0.05, -0.10, 0.15),
('ПИТАНИЕ', 'Кофе/кофеин', -0.15, -0.30, 0.00, 0.10, -0.20, -0.20, -0.10, -0.25, 0.35),
('ПИТАНИЕ', 'Алкоголь', -0.25, -0.40, -0.10, 0.00, -0.30, -0.30, 0.00, -0.35, 0.50),
('ПИТАНИЕ', 'Вода (гидратация)', 0.15, 0.25, 0.10, 0.05, 0.20, 0.15, 0.15, 0.15, -0.20),
('ГИГИЕНА', 'Душ холодный', 0.30, 0.10, 0.45, 0.50, 0.20, 0.40, 0.30, 0.20, -0.40),
('ГИГИЕНА', 'Душ горячий', 0.25, 0.40, 0.15, 0.05, 0.35, 0.10, 0.20, 0.35, -0.35),
('ГИГИЕНА', 'Макияж', 0.10, 0.00, 0.15, 0.20, 0.05, 0.15, 0.10, 0.00, -0.15),
('ГИГИЕНА', 'Прическа/волосы', 0.15, 0.05, 0.20, 0.25, 0.10, 0.20, 0.15, 0.05, -0.20),
('ГИГИЕНА', 'Уход за кожей', 0.20, 0.30, 0.15, 0.10, 0.25, 0.15, 0.10, 0.25, -0.25);